<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        회원가입 페이지에요
        <input id="nickname" placeholder="닉네임을 입력해 주세요" />
        <button onclick="register()">가입하기</button>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            async function register() {
                alert("가입하기");
                var nick = document.getElementById("nickname").value;
                var email = new URL(window.location.href).searchParams.get(
                    "email"
                );
                var token = await axios.post(
                    "https://i8d208.p.ssafy.io/api/kakao/register",
                    { nickname: nick, email: email }
                );
                console.log("회원가입 완료", token.data);
                // token에 토큰이 담겨있어요 쎄션스토리지에 넣어서 사용해하세요
                sessionStorage.setItem("token", token.data);
                //이곳에 회원가입이 완료하고 돌아갈 곳을 달아주세요
                window.location.href = "index.html";
            }
        </script>
    </body>
</html>
