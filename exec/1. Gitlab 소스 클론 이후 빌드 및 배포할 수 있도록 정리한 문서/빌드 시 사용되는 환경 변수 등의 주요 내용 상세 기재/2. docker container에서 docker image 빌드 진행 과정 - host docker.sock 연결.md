

# ğŸ“š 1. í˜„ì¬ ë¬¸ì œì , í•´ê²° ë°©ì•ˆ

ë‚˜ì˜ ë¬¸ì œì ì€ docker containerì™€ ì—°ê²°í•œ í›„, ê±°ê¸°ì„œ ì‘ì—…í•´ì•¼í•  ê²ƒì„ ubuntu(**docker-compose.ymlì™€ docker imageê°€ ìˆëŠ” ìª½ì—ì„œ ê³„ì† ì‹¤í–‰í•¨**)

ê²°êµ­, ì´ì „ì— settingsí•œ (ì„¤ì •ì„ ì¶”ê°€í•œ `docker-compose.yml`ìœ¼ë¡œ ì‹¤í–‰í•œ ê²Œ ì•„ë‹Œ, `docker run`ìœ¼ë¡œ ì‹¤í–‰í•œ ê²ƒ) ê²ƒì—ì„œ ê³„ì† ì‹¤í–‰ì„ í–ˆë˜ ê²ƒì´ë‹¤.


docker runë¡œ ì‹¤í–‰ (`docker run -it xxxx xxx xxx` ë¡œ ì‹¤í–‰í–ˆì§€ë§Œ, ë°‘ì™€ ê°™ì´ ì„¤ì •ì´ ëª‡ ê°€ì§€ ì¶”ê°€ë˜ì§€ ì•Šì•˜ë‹¤.)

- **docker.sock ì„¤ì •ì„ ì¶”ê°€í–ˆì§€ë§Œ, ì´ì „ì— docker run í•œ ê³³ì—ì„œëŠ” volumesì— docker.sockì„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤. ( `/var/run/docker.sock:/var/run/docker.sock`)**
-  **`container_name: ubuntu_jenkins_1` ë„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤.**

=> ì´ì™€ ê°™ì´ ì—¬ëŸ¬ê°€ì§€ ì„¤ì •ì„ ì¶”ê°€í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ docker runì„ ì‹¤í–‰í–ˆê¸° ë•Œë¬¸ì—

<img width="805" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„Œá…¥á†« 1 17 05" src="https://user-images.githubusercontent.com/72541544/213876206-20f4c9b4-064e-4a46-a12c-e9d438619e64.png">
ì´ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë§Œë‚˜ê²Œ ëœ ê²ƒ ê°™ë‹¤.

&nbsp;


**âœ”ï¸ ê·¸ë˜ì„œ?**

ì´ì „ docker imageë¥¼ ì „ë¶€ ì¢…ë£Œí•˜ê³  ë‹¤ì‹œ ì‹œì‘í•˜ì!

`docker rmi -f imageID` : image ê°•ì œ ì¢…ë£Œ



&nbsp;


&nbsp;


# ğŸ“š 2. í•´ê²°ë°©ì•ˆ

**ì²˜ìŒë¶€í„° ë‹¤ì‹œ setting í•´ë³´ì!**

ë‚˜ ê°™ì€ ê²½ìš° (docker docker-compose.yml backgroundì—ì„œ ì‹¤í–‰ë˜ê²Œ êµ¬í˜„í–ˆë‹¤.)

&nbsp;

**âœ”ï¸ docker-compose.yml**

```yaml
version: "3"
services:
  jenkins:
    image: jenkins/jenkins:lts
    container_name: ubuntu_jenkins_1
    user: root
    volumes:
      - ./jenkins:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 7777:8080
```


&nbsp;

**âœ”ï¸ docker-compose upì„ forgroundì—ì„œ ì‹¤í–‰í–ˆì„ ê²½ìš°**

<img width="646" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 23 38" src="https://user-images.githubusercontent.com/72541544/213908818-b659e4f1-6a6c-42db-9412-b36fe58f2c33.png">

ëª…ë ¹ì–´ ì¢…ë£Œì‹œ, ì„œë²„ê°€ ì¢…ë£Œëœë‹¤. (jenkins ì„œë²„ ì¢…ë£Œë¨)

&nbsp;

**âœ”ï¸ docker-compose up -d : backgroundì—ì„œ ì‹¤í–‰í–ˆì„ ê²½ìš°**

<img width="573" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 23 25" src="https://user-images.githubusercontent.com/72541544/213908816-00a811ec-8bd4-42ce-a729-4497e1ee5901.png">

- docker image jenkinsê°€ ì‹¤í–‰ë˜ì—ˆë‹¤!


&nbsp;



**âœ”ï¸ docker container ì ‘ì†í•˜ê¸°**

`docker exec -it container_name /bin/bash`

<img width="680" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 28 23" src="https://user-images.githubusercontent.com/72541544/213908922-90dee819-1ee8-4c32-a372-480b7161226c.png">

í•˜ì§€ë§Œ í˜„ì¬ `docker`ê°€ ì¶”ê°€ë˜ì§€ ì•Šì€ ìƒíƒœë‹¤.

&nbsp;

**âœ”ï¸ docker ì„¤ì¹˜**

```shell
docker exec -it ubuntu_jenkins_1 /bin/bash : container ì ‘ì†
curl -fsSL https://get.docker.com -o get-docker.sh : docker ì„¤ì¹˜
sh get-docker.sh
```

&nbsp;

ì•„ë‹ˆë¼ë©´

**âœ”ï¸ ê³µì‹ docker apt repository êµ¬ì„± ë° docker ce ë°”ì´ë„ˆë¦¬ ì„¤ì¹˜í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì…ë ¥**

```shell
apt-get update && \
apt-get -y install apt-transport-https \
     ca-certificates \
     curl \
     gnupg2 \
     software-properties-common && \
curl -fsSL https://download.docker.com/linux/$(. /etc/os-release; echo "$ID")/gpg > /tmp/dkey; apt-key add /tmp/dkey && \
add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/$(. /etc/os-release; echo "$ID") \
   $(lsb_release -cs) \
   stable" && \
apt-get update && \
apt-get -y install docker-ce
```

<img width="777" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 35 40" src="https://user-images.githubusercontent.com/72541544/213909147-4c3ffcc6-b7ba-4d04-bdbe-ffb81533616c.png">


ì´ë¶€ë¶„ì€ [docker ì˜í•˜ì‹œëŠ” ë¶„ê»˜ì„œ ì•Œë ¤ì£¼ì‹  ì‚¬ì´íŠ¸](https://kanoos-stu.tistory.com/m/53) ë¥¼ ì°¸ê³ í–ˆë‹¤.

&nbsp;


**âœ”ï¸ docker psë¡œ docker ëª…ë ¹ì–´ ì˜ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•˜ê¸°**

<img width="751" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 38 19" src="https://user-images.githubusercontent.com/72541544/213909242-9201b394-29e8-4a82-80f6-2914cb9ceae8.png">

&nbsp;

**âœ”ï¸ pipelineì—ì„œ ë¹Œë“œ ì‹¤í–‰!**

<img width="819" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-22 á„‹á…©á„’á…® 6 09 22" src="https://user-images.githubusercontent.com/72541544/213910237-e6a2f380-e3f6-4f2b-b2a7-5cf29612bd84.png">



